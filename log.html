<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/index.css">
    <link rel="stylesheet" href="assets/css/log.css">
    <script src="assets/java/javaPrinc.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.js" integrity="sha256-tA8y0XqiwnpwmOIl3SGAcFl2RvxHjA8qp0+1uCGmRmg=" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/39cab4bf95.js" crossorigin="anonymous"></script>
</head>
<body class="RaibowBg-1">
    <a href="index.html" class="Return"><i class="fa-solid fa-arrow-left"></i></a>
    <div class="header2 ds-flexC">
        <label class="title">Login</label>
    </div>
    <div class="FormCard" id="Frm">
        <div class="logoForm">Logo</div>
        <div class="inputs">
            <div class="input">
                <i class="icon fa-solid fa-envelope"></i>
                <input type="email" class="inputText" placeholder="Email" id="EmailInput">
                <label class="inputError" id="Error0"></label>
            </div>
            <div class="input">
                <i class="icon fa-solid fa-lock"></i>
                <input type="password" class="inputText" placeholder="senha" id="SenhaInput">
                <label class="inputError" id="Error1"></label>
            </div>
        </div>
        <button class="LmSenha" onclick="Pass(1)">Esqueci a senha</button>
    </div>
    <button class="btn bt" id="EnvA" onclick="FunCad(['#EmailInput', '#SenhaInput'], ['#Error0','#Error1'])">Entrar</button>
    <div class="fotter ds-flexC">
        <img src="assets/imgs/Bussy.png" class="bus">
    </div>
    <script>
        function Pass(passo){
            let frm = document.querySelector('#Frm');
            let btn = document.querySelector('#EnvA');
            if(passo == 0){
                frm.innerHTML = `
                <div class="logoForm">Logo</div>
                <div class="inputs">
                    <div class="input">
                        <i class="icon fa-solid fa-envelope"></i>
                        <input type="email" class="inputText" placeholder="Email" id="EmailInput">
                        <label class="inputError" id="Error0"></label>
                    </div>
                    <div class="input">
                        <i class="icon fa-solid fa-lock"></i>
                        <input type="password" class="inputText" placeholder="senha" id="SenhaInput">
                        <label class="inputError" id="Error1"></label>
                    </div>
                </div>
                <button class="LmSenha" onclick="Pass(1)">Esqueci a senha</button>
                `;
                btn.outerHTML = '<button class="btn bt" id="EnvA" onclick="FunCad([\'#EmailInput\', \'#SenhaInput\'], [\'#Error0\',\'#Error1\'])">Entrar</button>';
            }else if(passo == 1){
                //email tem que ser valido
                if(document.querySelector('#EmailInput').value != ''){
                    let nuns = numberRadom(9, 0, 6);
                    let cod = Codigo(nuns.length, nuns);
                    //Cod para mandar email
                    frm.innerHTML = `
                    <div class="logoForm">Logo</div>
                    <div class="inputs">
                        <p>
                            Um código foi enviado em seu e-mail escreva-o abaixo para poder trocar a Senha.
                        </p>
                        <div class="input">
                            <input type="number" class="inputText" placeholder="Código De Verificação" id="CodInput" minlength="6" maxlength="6">
                            <label class="inputError" id="Error2"></label>
                        </div>
                    </div>
                    `;
                    btn.outerHTML = '<button class="btn bt" id="EnvA" onclick="VerCod('+cod+')">Verificar</button>';
                }else{
                    alert('Email primeiro amigo!!');
                }
            }
        }
        function FunCad(inputs, errors){
            let vls = [
                document.querySelector(inputs[0]).value,
                document.querySelector(inputs[1]).value
            ];
            let lbErros =[
                document.querySelector(errors[0]),
                document.querySelector(errors[1])
            ];
            let dtVer = [
                'Bus@email.com',
                'Peruibe1'
            ];
            let ver = [
                (vls[0]==dtVer[0]? 1:0),
                (vls[1]==dtVer[1]? 1:0)
            ];

            if(ver[0]==0 || ver[1]==0){
                let text = ['Email', 'E/Ou senha Esta incorreta'];
                lbErros[0].innerHTML = text[0];
                lbErros[1].innerHTML = text[1];
            }else{
                //logar user
                lbErros[0].innerHTML = '';
                lbErros[1].innerHTML = '';
            };
        };

        function VerCod(cod){
            let vl = document.querySelector('#CodInput').value;
            let lbErro = document.querySelector('#Error2');
            let ver = vl==cod? 1:0;

            if(ver==0){
                let text = 'Codigo incorreto';
                lbErro.innerHTML = text;
            }else{
                lbErro.innerHTML = '';

            };
        }
    </script>
</body>
</html>